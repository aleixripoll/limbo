// navbar toggler
input#nav-toggle:checked ~ #nav-menu {
  @apply block md:flex;
}

// Animated burger icon
.burger-icon {
  @apply relative w-6 h-5 flex flex-col justify-between;
}

.burger-bar {
  @apply block w-full h-0.5 bg-current rounded-full;
  transition: transform 0.25s ease-out, opacity 0.2s ease-out;
  transform-origin: center;
}

#burger-button {
  @apply text-black dark:text-light;
}

// Transform to X when checked
input#nav-toggle:checked ~ #burger-button .bar-1 {
  transform: translateY(9px) rotate(45deg);
}

input#nav-toggle:checked ~ #burger-button .bar-2 {
  opacity: 0;
  transform: scaleX(0);
}

input#nav-toggle:checked ~ #burger-button .bar-3 {
  transform: translateY(-9px) rotate(-45deg);
}

@media (hover: hover) {
  #burger-button:hover .burger-icon {
    @apply scale-110;
  }
}

#nav-menu {
  @apply transition-all duration-500 ease-in-out transform;
}

// Mobile menu slide animation
@media (max-width: 768px) {
  #nav-menu {
    @apply rounded-lg mt-2 py-2 bg-gray-100 dark:bg-gray-800;
    display: block !important;
    max-height: 0;
    overflow: hidden;
    opacity: 0;
    transform: translateY(-5px);
    transform-origin: top center;
    transition: max-height 0.25s ease-out, 
                opacity 0.2s ease-out,
                transform 0.2s ease-out;
  }
  
  input#nav-toggle:checked ~ #nav-menu {
    max-height: 400px;
    opacity: 1;
    transform: translateY(0);
  }
  
  // Stagger animation for menu items
  .nav-item {
    opacity: 0;
    transform: translateX(-8px);
    transition: opacity 0.15s ease-out, transform 0.15s ease-out;
  }
  
  input#nav-toggle:checked ~ #nav-menu .nav-item {
    opacity: 1;
    transform: translateX(0);
  }
  
  input#nav-toggle:checked ~ #nav-menu .nav-item:nth-child(1) { transition-delay: 0.05s; }
  input#nav-toggle:checked ~ #nav-menu .nav-item:nth-child(2) { transition-delay: 0.08s; }
  input#nav-toggle:checked ~ #nav-menu .nav-item:nth-child(3) { transition-delay: 0.11s; }
  input#nav-toggle:checked ~ #nav-menu .nav-item:nth-child(4) { transition-delay: 0.14s; }
  input#nav-toggle:checked ~ #nav-menu .nav-item:nth-child(5) { transition-delay: 0.17s; }
}

// navbar items
.navbar {
  @apply relative flex max-w-[1260px] flex-wrap items-center justify-between;
}

.navbar-brand img {
  @apply h-auto max-w-[170px] sm:h-auto sm:max-w-full #{!important};
}

.navbar-nav {
  @apply text-center md:text-left;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
  font-weight: 500;
}

.nav-item {
  @apply mx-1;
}

.nav-link {
  @apply p-3 transition md:p-4 text-base flex items-center gap-1.5 justify-center md:justify-start rounded-lg;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
  font-weight: 500;
  -webkit-tap-highlight-color: transparent;
  
  &:active {
    @apply text-primary bg-primary/10;
  }
}

@media (hover: hover) {
  .nav-link:hover {
    @apply text-primary;
  }
}

.nav-dropdown-list {
  @apply z-10 rounded-lg bg-white px-6 py-3 shadow transition;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
  font-weight: 400;
}

.nav-dropdown-item {
  @apply mb-1;
}

.nav-dropdown-link {
  @apply block min-w-[150px] py-1 transition;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
  font-weight: 400;
}

@media (hover: hover) {
  .nav-dropdown-link:hover {
    @apply text-primary;
  }
}

// search style
.search-modal {
  @apply invisible absolute top-0 left-0 right-0 z-10 h-10 bg-white dark:bg-dark opacity-0 transition md:h-full;
  .form-input {
    @apply h-full w-full border-0 text-lg;
  }
  .search-close {
    @apply absolute top-1/2 right-2 -translate-y-1/2 p-3 text-h4;
  }
  &.open {
    @apply visible opacity-100;
  }
}
