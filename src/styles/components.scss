// section style
.section {
  @apply py-10 lg:py-20;
}

// container
.container {
  @apply max-w-[1100px] px-4 md:px-8;
}

// page heading
.page-heading {
  @apply mb-20 text-center font-bold leading-10;
  &:after {
    @apply mx-auto mt-4 block h-1 w-10 rounded-full bg-primary content-[''];
  }
}

// form style
.form-inputs * {
  @apply mb-5 leading-10;
}

// image cover
.img-cover {
  @apply leading-none;
  span {
    @apply h-full w-full;
  }
  img {
    @apply object-cover;
  }
}

// author-image
.author-image {
  @apply mr-2 align-top;
  img {
    @apply max-h-[25px] max-w-[25px] rounded-full;
  }
}

// social icon style
.social-icons {
  @apply space-x-4;
  li {
    @apply inline-block;
    a {
      @apply block h-11 w-11 rounded-lg /*border*/ border-light bg-transparent text-center text-white transition;
      svg {
        @apply m-auto h-11 text-base;
      }
    }
  }
}

.social-icons-simple {
  @apply space-x-2;
  li {
    @apply inline-block;
    a {
      @apply block p-3 text-dark transition;
      svg {
        @apply text-lg;
      }
    }
  }
}

.social-share {
  @apply space-x-1;
  li {
    @apply inline-block;
    a {
      @apply block p-3 transition duration-300;
    }
  }
}

// Hover effects for non-touch devices
@media (hover: hover) {
  .social-icons li a:hover {
    @apply border-primary bg-primary;
  }
  
  .social-icons-simple li a:hover {
    @apply text-primary;
  }
  
  .social-share li a:hover {
    @apply text-primary;
  }
  
  footer p a:hover {
    @apply text-primary;
  }
}

// form style
.form-input,
.form-textarea {
  @apply rounded-md border-border py-3 text-text focus:border-primary focus:ring-transparent;
}

// content style
.content {
  @apply prose dark:prose-invert max-w-none prose-headings:font-bold dark:prose-headings:text-stone-200 prose-h1:mb-4 prose-h1:text-h1-sm prose-h2:mb-4 prose-h2:mt-4 prose-h2:text-h2-sm prose-h3:mt-4 prose-h3:text-h3-sm prose-h4:mt-4 prose-h5:mb-4 prose-h6:mb-6 prose-blockquote:text-gray-500 dark:prose-blockquote:text-gray-400 prose-blockquote:px-3 sm:prose-blockquote:px-5 prose-blockquote:py-1 prose-pre:px-6 prose-pre:py-5 md:prose-h1:text-h1 md:prose-h2:text-h2 md:prose-h3:text-h3 lg:text-lg prose-blockquote:not-italic prose-code:before:content-none prose-code:after:content-none dark:prose-strong:text-primary dark:prose-a:text-light hover:prose-a:text-primary prose-img:border-none prose-img:mt-1 prose-blockquote:leading-relaxed;
  img {
    @apply rounded border-neutral-700 border mb-6;
  }
}

.sticky {
  @apply fixed top-0 w-full z-10 bg-white dark:bg-theme-dark;
}

a > svg {
  @apply h-6 w-6;
}

// footer
footer p a {
  @apply transition-all duration-200;
}

footer.section {
  @apply py-16;
}

// markdown align images
// https://stackoverflow.com/questions/255170/markdown-and-image-alignment
img[alt$=">"] {
  float: right;
  max-width: 50%;
  padding-left: 30px; 
}

img[alt$="<"] {
  float: left;
  max-width: 50%;
  padding-right: 40px; 
}

// Masonry Layout Styles
.masonry-grid {
  @apply columns-1 sm:columns-2 lg:columns-3 xl:columns-4 gap-12 space-y-12;
  column-fill: balance;
}

/* Mobile: Override column layout for full width */
@media (max-width: 768px) {
  .masonry-grid {
    @apply columns-1 gap-6 space-y-6;
    column-fill: balance;
  }
}

.masonry-item {
  @apply break-inside-avoid mb-12;
  page-break-inside: avoid;
}

/* Mobile: Ensure items take full width */
@media (max-width: 768px) {
  .masonry-item {
    @apply w-full break-inside-avoid-column;
    column-span: all;
  }
}

.masonry-card {
  @apply block rounded-lg shadow-none transition-all duration-500 overflow-hidden relative;
  background: transparent;
  border: none !important;
}

/* Mobile: Adjust card styling */
@media (max-width: 768px) {
  .masonry-card {
    @apply w-full;
    border: none !important;
    box-shadow: none !important;
  }
}

.dark .masonry-card {
  background: transparent;
}

@media (hover: hover) {
  .masonry-card {
    @apply hover:-translate-y-3 hover:scale-[1.02];
    transform-origin: center bottom;
  }
}

.masonry-image-container {
  @apply relative overflow-hidden;
  aspect-ratio: 16/9;
}

.masonry-image {
  @apply w-full h-full object-cover transition-all duration-700 ease-out;
  filter: brightness(0.9) contrast(0.9);
}

@media (hover: hover) {
  .masonry-card:hover .masonry-image {
    @apply scale-110;
    filter: brightness(0.95) contrast(0.95);
  }
}



.masonry-content {
  @apply p-5 pt-4 relative;
}

.masonry-meta {
  @apply flex flex-wrap items-baseline gap-2 mb-2 text-xs text-gray-600 dark:text-gray-400;
}

.masonry-date {
  @apply flex items-center text-gray-500 font-normal;
}

.masonry-categories {
  @apply hidden; // categories removed from markup
}

.masonry-icon {
  @apply hidden; // icons removed where unused
}

.masonry-category-list {
  @apply flex flex-wrap gap-1;
}

.masonry-category {
  @apply transition-colors duration-150 px-2 py-1 rounded-full text-xs font-medium flex items-center;
  background: rgba(14, 165, 164, 0.06);
  color: #0ea5a4; /* matches muted primary */
}

.dark .masonry-category {
  background: rgba(14, 165, 164, 0.08);
}

@media (hover: hover) {
  .masonry-category:hover {
    @apply text-primary;
    background: rgba(14, 165, 164, 0.12);
    transform: translateY(0);
    box-shadow: none;
  }
}

.masonry-title {
  @apply text-xl font-semibold mb-2 text-gray-900 dark:text-gray-100 line-clamp-2 transition-colors duration-200;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
  line-height: 1.3;
  letter-spacing: -0.025em;
}

.masonry-excerpt {
  @apply text-base text-gray-600 dark:text-gray-400 line-clamp-2 leading-relaxed;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
  line-height: 1.5;
}

// Enhanced focus states for accessibility
.masonry-card:focus-within {
  @apply ring-1 ring-primary/30 ring-offset-1;
  outline: none;
}

// Responsive adjustments
@media (max-width: 640px) {
  .masonry-grid {
    @apply columns-1 gap-4;
  }
  
  .masonry-content {
    @apply p-4 pb-5;
  }
  
  .masonry-title {
    @apply text-xl mb-1;
  }
  
  .masonry-card {
    @apply rounded-lg;
  }
  
  .masonry-meta {
    @apply mb-1;
  }
  
  .similar-post-meta {
    @apply mb-0.5;
  }
  
  .search-result-meta {
    @apply mb-1;
  }
}

@media (min-width: 641px) and (max-width: 1024px) {
  .masonry-grid {
    @apply columns-2 gap-5;
  }
}

@media (min-width: 1025px) and (max-width: 1280px) {
  .masonry-grid {
    @apply columns-3 gap-6;
  }
}

@media (min-width: 1281px) {
  .masonry-grid {
    @apply columns-4 gap-6;
  }
}

// Similar Posts Grid Styles
.similar-posts-grid {
  @apply grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-12;
}

/* Mobile: Make similar posts grid single column with full width */
@media (max-width: 768px) {
  .similar-posts-grid {
    @apply grid-cols-1 gap-6;
  }
}

.similar-post-item {
  @apply break-inside-avoid;
}

.similar-post-card {
  @apply block rounded-lg shadow-none transition-all duration-500 overflow-hidden relative;
  background: transparent;
  border: none !important;
}

/* Mobile: Adjust similar post card styling */
@media (max-width: 768px) {
  .similar-post-card {
    @apply w-full;
    border: none !important;
    box-shadow: none !important;
  }
  
  .similar-post-meta {
    @apply mb-1;
  }
  
  .similar-post-title {
    @apply mb-1;
  }
}

.dark .similar-post-card {
  background: transparent;
}

@media (hover: hover) {
  .similar-post-card {
    @apply hover:-translate-y-2 hover:scale-[1.02];
    transform-origin: center bottom;
  }
}

.similar-post-image-container {
  @apply relative overflow-hidden;
  aspect-ratio: 16/9;
}

.similar-post-image {
  @apply w-full h-full object-cover transition-all duration-700 ease-out;
  filter: brightness(0.95) contrast(0.9) saturate(0.7);
}

@media (hover: hover) {
  .similar-post-card:hover .similar-post-image {
    @apply scale-110;
    filter: brightness(1.05) contrast(1.1);
  }
}



.similar-post-content {
  @apply p-4 pb-4;
  padding-top: 1rem;
}

.similar-post-meta {
  @apply flex flex-wrap items-baseline gap-2 mb-2 text-xs text-gray-600 dark:text-gray-400;
}

.similar-post-date,
.similar-post-categories {
  @apply flex gap-1 items-center;
}

.similar-post-icon {
  @apply h-3 w-3 text-primary flex items-center;
}

.similar-post-category-list {
  @apply flex flex-wrap gap-1;
}

.similar-post-category {
  @apply transition-all duration-200 px-1.5 py-0.5 rounded-full text-xs font-medium flex items-center;
  background: linear-gradient(135deg, rgba(1, 173, 175, 0.1) 0%, rgba(1, 173, 175, 0.05) 100%);
  color: #01ADaF;
}

.dark .similar-post-category {
  background: linear-gradient(135deg, rgba(1, 173, 175, 0.2) 0%, rgba(1, 173, 175, 0.1) 100%);
}

@media (hover: hover) {
  .similar-post-category:hover {
    @apply text-white;
    background: linear-gradient(135deg, #01ADaF 0%, #0099a1 100%);
    transform: translateY(-1px);
    box-shadow: 0 2px 8px rgba(1, 173, 175, 0.3);
  }
}

.similar-post-title {
  @apply text-base font-bold mb-1 text-gray-900 dark:text-gray-100 line-clamp-2 group-hover:text-primary transition-all duration-300;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
  line-height: 1.3;
  letter-spacing: -0.025em;
}

.similar-post-excerpt {
  @apply text-sm text-gray-600 dark:text-gray-400 line-clamp-2 leading-relaxed;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
  line-height: 1.5;
}

// Enhanced focus states for accessibility
.similar-post-card:focus-within,
.search-result-card:focus-within {
  @apply ring-2 ring-primary/50 ring-offset-2;
  outline: none;
}

// Search Results Grid Styles
.search-results-grid {
  @apply columns-1 sm:columns-2 lg:columns-3 xl:columns-4 gap-12 space-y-12;
  column-fill: balance;
}

/* Mobile: Override column layout for full width */
@media (max-width: 768px) {
  .search-results-grid {
    @apply columns-1 gap-6 space-y-6;
    column-fill: balance;
  }
}

.search-result-item {
  @apply break-inside-avoid mb-12;
  page-break-inside: avoid;
}

/* Mobile: Ensure search result items take full width */
@media (max-width: 768px) {
  .search-result-item {
    @apply w-full break-inside-avoid-column;
    column-span: all;
  }
}

  .search-result-card {
  @apply block rounded-lg shadow-none transition-all duration-500 overflow-hidden relative;
  background: transparent;
  border: none !important;
}

/* Mobile: Adjust search result card styling */
@media (max-width: 768px) {
  .search-result-card {
    @apply w-full;
    border: none !important;
    box-shadow: none !important;
  }
  
  .search-result-meta {
    @apply mb-1;
  }
  
  .search-result-title {
    @apply mb-1;
  }
}

.dark .search-result-card {
  background: transparent;
}

@media (hover: hover) {
  .search-result-card {
    @apply hover:-translate-y-3 hover:scale-[1.02];
    transform-origin: center bottom;
  }
}

.search-result-image-container {
  @apply relative overflow-hidden;
  aspect-ratio: 16/9;
}

.search-result-image {
  @apply w-full h-full object-cover transition-all duration-700 ease-out;
  filter: brightness(0.95) contrast(0.9) saturate(0.7);
}

@media (hover: hover) {
  .search-result-card:hover .search-result-image {
    @apply scale-110;
    filter: brightness(1.05) contrast(1.1);
  }
}



.search-result-content {
  @apply p-6 pb-5;
  padding-top: 1rem;
}

.search-result-meta {
  @apply flex flex-wrap items-baseline gap-4 mb-3 text-xs text-gray-600 dark:text-gray-400;
}

.search-result-categories {
  @apply flex gap-1 items-center;
}

.search-result-icon {
  @apply h-4 w-4 text-primary flex items-center;
}

.search-result-category-list {
  @apply flex flex-wrap gap-1;
}

.search-result-category {
  @apply transition-all duration-200 px-2 py-1 rounded-full text-xs font-medium flex items-center;
  background: linear-gradient(135deg, rgba(1, 173, 175, 0.1) 0%, rgba(1, 173, 175, 0.05) 100%);
  color: #01ADaF;
}

.dark .search-result-category {
  background: linear-gradient(135deg, rgba(1, 173, 175, 0.2) 0%, rgba(1, 173, 175, 0.1) 100%);
}

@media (hover: hover) {
  .search-result-category:hover {
    @apply text-white;
    background: linear-gradient(135deg, #01ADaF 0%, #0099a1 100%);
    transform: translateY(-1px);
    box-shadow: 0 2px 8px rgba(1, 173, 175, 0.3);
  }
}

.search-result-title {
  @apply text-lg font-bold mb-2 text-gray-900 dark:text-gray-100 line-clamp-2 group-hover:text-primary transition-all duration-300;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
  line-height: 1.3;
  letter-spacing: -0.025em;
}

.search-result-excerpt {
  @apply text-sm text-gray-600 dark:text-gray-400 line-clamp-2 leading-relaxed;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
  line-height: 1.5;
}

// TODO: remove when all posts use frontmatter img attribution fields
span.attribution {
  @apply block text-center italic text-xs relative -top-6  opacity-90;
}

a.attribution {
  @apply block text-center italic text-xs opacity-90 mt-2;
}

@media (hover: hover) {
  a.attribution:hover {
    @apply text-primary;
  }
}

.theme-switcher {
  @apply inline-flex;

  label {
    @apply bg-border relative inline-block h-4 w-6 cursor-pointer rounded-2xl lg:w-10;
  }

  input {
    @apply absolute opacity-0;
  }

  span {
    @apply bg-dark absolute -top-1 left-0 flex h-6 w-6 items-center justify-center rounded-full transition-all duration-300 dark:bg-white;
  }

  input:checked + label {
    span {
      @apply lg:left-4;
    }
  }
}

@media (max-width: 640px) {
  .similar-post-content {
    @apply p-3 pb-4;
  }
}

@media (max-width: 640px) {
  .search-result-content {
    @apply p-4 pb-5;
  }
}

// Mobile animation enhancements - DISABLED
@media (max-width: 640px) {
  .masonry-card,
  .similar-post-card,
  .search-result-card {
    @apply transition-none;
    transform: none !important;
  }
  
  .masonry-card:active,
  .similar-post-card:active,
  .search-result-card:active {
    @apply transform-none shadow-sm;
  }
  
  .masonry-image,
  .similar-post-image,
  .search-result-image {
    @apply transition-none;
    transform: none !important;
  }
  
  .masonry-card:active .masonry-image,
  .similar-post-card:active .similar-post-image,
  .search-result-card:active .search-result-image {
    @apply scale-100;
  }
  
  .masonry-content,
  .similar-post-content,
  .search-result-content {
    @apply p-4 pb-5;
  }
  
  .search-result-content {
    @apply p-4 pb-5;
  }
}

// Loading animation for cards
@keyframes cardFadeIn {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.masonry-item,
.similar-post-item,
.search-result-item {
  animation: cardFadeIn 0.6s ease-out;
}

// Stagger animation for multiple cards
.masonry-item:nth-child(1) { animation-delay: 0.1s; }
.masonry-item:nth-child(2) { animation-delay: 0.2s; }
.masonry-item:nth-child(3) { animation-delay: 0.3s; }
.masonry-item:nth-child(4) { animation-delay: 0.4s; }
.masonry-item:nth-child(5) { animation-delay: 0.5s; }
.masonry-item:nth-child(6) { animation-delay: 0.6s; }

// Disable animations on mobile
@media (max-width: 640px) {
  .masonry-item,
  .similar-post-item,
  .search-result-item {
    animation: none !important;
    animation-delay: 0s !important;
  }
}

// Enhanced loading states
.masonry-image,
.similar-post-image,
.search-result-image {
  @apply transition-all duration-700 ease-out;
}

// Disable image transitions on mobile
@media (max-width: 640px) {
  .masonry-image,
  .similar-post-image,
  .search-result-image {
    @apply transition-none;
  }
}

// Skeleton loading animation
@keyframes skeletonPulse {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.5;
  }
}

.masonry-card.loading,
.similar-post-card.loading,
.search-result-card.loading {
  animation: skeletonPulse 1.5s ease-in-out infinite;
}

// Disable skeleton animation on mobile
@media (max-width: 640px) {
  .masonry-card.loading,
  .similar-post-card.loading,
  .search-result-card.loading {
    animation: none !important;
  }
}

// Improved focus states for keyboard navigation
.masonry-card:focus-visible,
.similar-post-card:focus-visible,
.search-result-card:focus-visible {
  @apply ring-2 ring-primary ring-offset-2 outline-none;
  transform: translateY(-2px);
}

// Disable focus animations on mobile
@media (max-width: 640px) {
  .masonry-card:focus-visible,
  .similar-post-card:focus-visible,
  .search-result-card:focus-visible {
    transform: none !important;
  }
}

// Enhanced touch interactions for mobile
@media (hover: none) and (pointer: coarse) {
  .masonry-card,
  .similar-post-card,
  .search-result-card {
    @apply active:shadow-sm;
    transition: none;
  }
  
  .masonry-overlay,
  .similar-post-overlay,
  .search-result-overlay {
    @apply hidden;
  }
  
  // Disable all hover effects on mobile
  .masonry-card:hover,
  .similar-post-card:hover,
  .search-result-card:hover {
    @apply transform-none shadow-sm;
  }
  
  .masonry-card:hover .masonry-image,
  .similar-post-card:hover .similar-post-image,
  .search-result-card:hover .search-result-image {
    @apply scale-100;
    filter: brightness(0.95) contrast(1.05);
    transform: none !important;
  }
  
  .masonry-title:hover,
  .similar-post-title:hover,
  .search-result-title:hover {
    @apply text-gray-900 dark:text-gray-100;
  }
  
  .masonry-category:hover,
  .similar-post-category:hover,
  .search-result-category:hover {
    @apply text-primary bg-transparent transform-none shadow-none;
    background: linear-gradient(135deg, rgba(1, 173, 175, 0.15) 0%, rgba(1, 173, 175, 0.08) 100%);
    border: 1px solid rgba(1, 173, 175, 0.2);
    transition: none;
  }
  
  // Disable transform effect on click/tap
  .masonry-card:active,
  .similar-post-card:active,
  .search-result-card:active {
    transform: none !important;
  }
}

// Improved category badges with better contrast
.masonry-category,
.similar-post-category,
.search-result-category {
  @apply transition-all duration-200 text-xs font-medium;
  background: transparent;
  color: #6b7280;
  border: none;
  padding: 0;
}

.dark .masonry-category,
.dark .similar-post-category,
.dark .search-result-category {
  background: transparent;
  color: #9ca3af;
  border: none;
  padding: 0;
}

@media (hover: hover) {
  .masonry-category:hover,
  .similar-post-category:hover,
  .search-result-category:hover {
    @apply text-gray-600 dark:text-gray-400;
    background: transparent;
    transform: none;
    box-shadow: none;
    border: none;
  }
}

// Enhanced reading time badge
.reading-time-badge {
  @apply absolute top-3 right-3 bg-black/70 backdrop-blur-sm text-white text-xs px-2 py-1 rounded-full font-medium;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
  border: 1px solid rgba(255, 255, 255, 0.1);
}

// Improved visual hierarchy with better typography
.masonry-title,
.similar-post-title,
.search-result-title {
  @apply font-bold line-clamp-2 group-hover:text-primary transition-all duration-300;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
  line-height: 1.3;
  letter-spacing: -0.025em;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
}

.dark .masonry-title,
.dark .similar-post-title,
.dark .search-result-title {
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
}

// Enhanced excerpt styling
.masonry-excerpt,
.similar-post-excerpt,
.search-result-excerpt {
  @apply line-clamp-2 leading-relaxed;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
  line-height: 1.5;
  color: #6b7280;
}

.dark .masonry-excerpt,
.dark .similar-post-excerpt,
.dark .search-result-excerpt {
  color: #9ca3af;
}

// Subtle gradient overlay for better text readability
.masonry-content,
.similar-post-content,
.search-result-content {
  @apply relative;
  background: linear-gradient(to bottom, transparent 0%, rgba(255, 255, 255, 0.02) 100%);
}

.dark .masonry-content,
.dark .similar-post-content,
.dark .search-result-content {
  background: linear-gradient(to bottom, transparent 0%, rgba(31, 41, 55, 0.02) 100%);
}

// Enhanced hover effects with better performance
@media (hover: hover) {
  .masonry-card:hover,
  .similar-post-card:hover,
  .search-result-card:hover {
    @apply shadow-xl;
    transform: translateY(-3px) scale(1.02);
    transform-origin: center bottom;
    will-change: transform;
  }
  
  .masonry-card:hover .masonry-image,
  .similar-post-card:hover .similar-post-image,
  .search-result-card:hover .search-result-image {
    @apply scale-110;
    filter: brightness(1.05) contrast(1.1) saturate(1.1);
  }
}

// Disable all hover effects on mobile
@media (max-width: 640px) {
  .masonry-card:hover,
  .similar-post-card:hover,
  .search-result-card:hover {
    @apply shadow-sm;
    transform: none !important;
    will-change: auto;
  }
  
  .masonry-card:hover .masonry-image,
  .similar-post-card:hover .similar-post-image,
  .search-result-card:hover .search-result-image {
    @apply scale-100;
    filter: brightness(0.95) contrast(1.05);
    transform: none !important;
  }
}

// Improved accessibility for screen readers
.masonry-card[aria-label],
.similar-post-card[aria-label],
.search-result-card[aria-label] {
  @apply focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2;
}

// Better responsive behavior
@media (max-width: 640px) {
  .masonry-grid,
  .search-results-grid {
    @apply columns-1 gap-4;
  }
  
  .similar-posts-grid {
    @apply grid-cols-1 gap-4;
  }
  
  .masonry-content,
  .similar-post-content,
  .search-result-content {
    @apply p-4 pb-5 text-center;
  }
  
  .masonry-title,
  .similar-post-title,
  .search-result-title {
    @apply text-xl text-center;
  }
  
  .masonry-excerpt,
  .similar-post-excerpt,
  .search-result-excerpt {
    @apply text-center;
  }
  
  .masonry-meta,
  .similar-post-meta,
  .search-result-meta {
    @apply justify-center;
  }
  
  .masonry-card,
  .similar-post-card,
  .search-result-card {
    @apply rounded-lg;
  }
  
  // Optimize touch targets
  .masonry-category,
  .similar-post-category,
  .search-result-category {
    @apply py-1.5;
    min-height: 28px;
  }
}

// High contrast mode support
@media (prefers-contrast: high) {
  .masonry-category,
  .similar-post-category,
  .search-result-category {
    @apply border-2 border-primary bg-primary text-white;
  }
}

// Reduced motion support
@media (prefers-reduced-motion: reduce) {
  .masonry-card,
  .similar-post-card,
  .search-result-card,
  .masonry-image,
  .similar-post-image,
  .search-result-image,
  .masonry-category,
  .similar-post-category,
  .search-result-category {
    @apply transition-none;
    animation: none;
  }
  
  .masonry-item,
  .similar-post-item,
  .search-result-item {
    animation: none;
  }
}

// Global disable selection border/highlight for all cards
.masonry-card,
.similar-post-card,
.search-result-card,
.masonry-card *,
.similar-post-card *,
.search-result-card * {
  -webkit-tap-highlight-color: transparent !important;
  -webkit-touch-callout: none !important;
  -webkit-user-select: none !important;
  -moz-user-select: none !important;
  -ms-user-select: none !important;
  user-select: none !important;
  outline: none !important;
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0) !important;
}

// Global disable focus ring for all cards
.masonry-card:focus,
.similar-post-card:focus,
.search-result-card:focus,
.masonry-card:focus-visible,
.similar-post-card:focus-visible,
.search-result-card:focus-visible {
  outline: none !important;
  box-shadow: none !important;
  ring: none !important;
}

// Subtle highlight on click/tap for all cards
.masonry-card:active,
.similar-post-card:active,
.search-result-card:active {
  box-shadow: 0 0 0 1px rgba(1, 173, 175, 0.2) !important;
  transition: box-shadow 0.1s ease;
}

.dark .masonry-card:active,
.dark .similar-post-card:active,
.dark .search-result-card:active {
  box-shadow: 0 0 0 1px rgba(1, 173, 175, 0.3) !important;
}

// Force disable all animations on mobile regardless of user preference
@media (max-width: 640px) {
  .masonry-card,
  .similar-post-card,
  .search-result-card,
  .masonry-image,
  .similar-post-image,
  .search-result-image,
  .masonry-category,
  .similar-post-category,
  .search-result-category,
  .masonry-item,
  .similar-post-item,
  .search-result-item {
    @apply transition-none;
    animation: none !important;
    transform: none !important;
  }
}
